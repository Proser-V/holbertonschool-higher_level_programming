#!/bin/bash



# Chemin du dossier √† traiter (d√©faut : dossier courant)

TARGET_DIR="${1:-.}"



echo "üîç Traitement des fichiers directement dans : $TARGET_DIR"

echo



# Traitement uniquement des fichiers non cach√©s dans le dossier courant

for file in "$TARGET_DIR"/*; do

    [ -f "$file" ] || continue  # ignore les r√©pertoires



    ext="${file##*.}"

    filename="$(basename "$file")"



    case "$ext" in

        sh|py|pl)

            chmod +x "$file"

            echo "üü¢ chmod +x : $filename"

            ;;

        txt|md|sql|c|h|json|yml|yaml|xml|ini|cfg|conf)

            chmod 644 "$file"

            echo "üìÑ chmod 644 : $filename"

            ;;

        *)

            if grep -q '^#!' "$file"; then

                chmod +x "$file"

                echo "‚öôÔ∏è  chmod +x (shebang) : $filename"

            else

                chmod 644 "$file"

                echo "üìÑ chmod 644 : $filename"

            fi

            ;;

    esac

done



echo

echo "‚úÖ Termin√©."
